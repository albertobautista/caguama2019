!function(){"use strict";function e(o,a,e,r,t){var n=0,s=0,c=localStorage.baseurl,l={method:"",url:"",headers:{Authorization:localStorage.tokenkey,"Content-Type":"application/json; charset=UTF-8"}};return{get:function t(){if(null!=c){var e=(new Date).toISOString().slice(0,10);l.url=c+"/services/apexrest/t2go1/dashboard/all?codeAgent="+localStorage.agentCode+"&dateAgent="+e,l.method="get",s=0}else 0==s?r.get().then(function(e){localStorage.setItem("baseurl",e.BASEURL),t()}):console.log("ERROR in dashboard.service.js :::: BASEURL = NULL"),s++;return o(l).then(function(e){return n=0,e.data}).catch(function(e){if("Unauthorized"==e.statusText){if(0!=n)return console.log("ERROR in dashboard.service.js ::::: GET ALL "),console.log(e),n=0,e;a.get().then(function(e){n++,localStorage.setItem("tokenkey","Bearer "+e.TOKEN),l.headers.Authorization="Bearer "+e.TOKEN,t()})}})}}}angular.module("app").factory("DashboardService",e),e.$inject=["$http","TokenService","$mdToast","BaseUrlService","toastr"]}();