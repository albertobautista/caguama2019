!function(){"use strict";function e(o,a,e,r,t){var n=0,c=0,s=localStorage.baseurl,i={method:"",url:"",headers:{Authorization:localStorage.tokenkey,"Content-Type":"application/json; charset=UTF-8"}};return{get:function t(){if(null!=s){var e=(new Date).toISOString().slice(0,10);i.url=s+"/services/apexrest/t2go1/dashboard/weekSummary?codeAgent="+localStorage.agentCode+"&dateAgent="+e,i.method="get",c=0}else 0==c?r.get().then(function(e){localStorage.setItem("baseurl",e.BASEURL),t()}):console.log("ERROR in dashboard.service.js :::: BASEURL = NULL"),c++;return o(i).then(function(e){return n=0,e.data}).catch(function(e){if("Unauthorized"==e.statusText){if(0!=n)return console.log("ERROR in dashboard.service.js ::::: GET ALL "),console.log(e),n=0,e;a.get().then(function(e){n++,localStorage.setItem("tokenkey","Bearer "+e.TOKEN),i.headers.Authorization="Bearer "+e.TOKEN,t()})}})}}}angular.module("app").factory("HomeService",e),e.$inject=["$http","TokenService","$mdToast","BaseUrlService","toastr"]}();