!function(){"use strict";function e(e,r){var a=0,n=0,c=localStorage.baseurl,i={method:"get",url:"",headers:{Authorization:localStorage.tokenkey,"Content-Type":"application/json; charset=UTF-8"}};return{get:function t(o){null!=c?(i.url=c+"/services/apexrest/t2go1/Categorias/?idetapa="+o.idStage,n=0):(0==n?BaseUrlService.get().then(function(e){c=e.BASEURL,localStorage.setItem("baseurl",e.BASEURL),t(o)}):console.log("ERROR in category.service.js :::: BASEURL = NULL"),n++);return e(i).then(function(e){return a=0,e.data}).catch(function(e){if("Unauthorized"==e.statusText){if(0!=a)return console.log("ERROR in category.service.js"),console.log(e),a=0,e;r.get().then(function(e){a++,localStorage.setItem("tokenkey","Bearer "+e.TOKEN),i.headers.Authorization="Bearer "+e.TOKEN,t(o)})}})}}}angular.module("app").factory("CategoryService",e),e.$inject=["$http","TokenService"]}();